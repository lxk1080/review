<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>无标题文档</title>
  <style>
    body {
      background: #333;
    }

    #c1 {
      background: #FFF;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>

<canvas id="c1" width="400" height="400">  <!--默认宽300 高150-->
  <span>不支持canvas的浏览器</span>
</canvas>


<script>
  const c1 = document.getElementById('c1');
  const c = c1.getContext('2d');

  document.onmousedown = function (ev) {   // 鼠标按下时开始画线起点
    ev = ev || window.event;

    const x = ev.clientX - c1.offsetLeft;
    const y = ev.clientY - c1.offsetTop;

    c.moveTo(x, y);

    document.onmousemove = function (ev) {  // 鼠标按下时的鼠标移动事件
      ev = ev || window.event;

      const x = ev.clientX - c1.offsetLeft;
      const y = ev.clientY - c1.offsetTop;

      c.lineTo(x, y);
      c.stroke();
    }

    document.onmouseup = function () {  // 鼠标弹起时清除鼠标移动事件
      document.onmousemove = null;
      document.onmouseup = null;
    }
  }
</script>
</body>
</html>
