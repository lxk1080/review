<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PM_b</title>
</head>
<body>

<div class="text">123</div>

<script>
    let text = document.querySelector('.text')

    // 接收数据
    let callback = function(event) {
        let data = event.data // 消息
        let origin = event.origin // 消息来源
        let source = event.source // 源window对象
        if (origin === 'http://localhost:63342') {
            text.innerHTML = data
        }

        // 发送数据
        source.postMessage('人生就像一条河流，快乐和悲伤是河流的两岸', `${origin}/review/http/pM_a.html`)
    }

    if (typeof window.addEventListener !== 'undefined' ) {
        window.addEventListener('message', callback)
    } else if (typeof window.attachEvent !== 'undefined') {
        window.attachEvent('message', callback)
    }

</script>

</body>
</html>
